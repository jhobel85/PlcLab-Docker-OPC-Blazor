@page "/"
@rendermode @(new InteractiveServerRenderMode())
@using PlcLab.Web.Components
@inject PlcLab.Web.ViewModel.IndexViewModel _vm

<div>
  <ul class="nav nav-tabs">
    <li class="nav-item">
      <button type="button" class="nav-link @(activeTab == "home" ? "active" : "")" @onclick='() => SetTab("home")'>Home</button>
    </li>
    <li class="nav-item">
      <button type="button" class="nav-link @(activeTab == "opcua" ? "active" : "")" @onclick='() => SetTab("opcua")'>OPC UA Browser</button>
    </li>
    <li class="nav-item">
      <button type="button" class="nav-link @(activeTab == "results" ? "active" : "")" @onclick='() => SetTab("results")'>Results Explorer</button>
    </li>
  </ul>
  <div class="mt-3">
    @if (activeTab == "home")
    {
      <HomeTabContent ViewModel="_vm" />
    }
    else if (activeTab == "opcua")
    {
      <OpcUaBrowser Session="@(_vm?.Session)" />
    }
    else if (activeTab == "results")
    {
      <ResultsExplorer />
    }
  </div>
</div>

@code {
    private string activeTab = "home";
    private void SetTab(string tab) => activeTab = tab;
}
